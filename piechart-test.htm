<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Pie Charts</title>

  <link Content-Type="text/css" href="/iotstyle.css" rel="stylesheet" />
  <style>
    pre.code {
      display: block;
      margin: 0.5em 0;
      border: solid 1px black;
      padding: 0.2em;
      font-family: Courier New, Courier, monospace;
      font-size: 0.75em;
      line-height: 1.2;
      color: black;
      background-color: rgb(255, 255, 240);
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Pie Charts</h1>
    <p> <button id="doClear">clear</button> <button id="doDraw1">draw1</button> <button id="doDraw2">draw2</button>
      <button id="doDraw3">draw3</button> <button id="doDraw4">draw4</button></p>
    <object id="pieChart" data="pieChart.svg" type="image/svg+xml" style="width:300px;height:300px;"></object>
    <hr />

    <h3>Pie Chart Data</h3>

    <p>The data passed to the draw function is an array of the pie slice descriptors:</p>
    <pre class="code">
var myData = [
  {
    title: "used",  // { "type": "string" }
    value: 8000,    // { "type": "number" }
    color: "lime"   // { "type": "string" }
  }, {
    title: "free",  // { "type": "string" }
    value: 12000,   // { "type": "number" }
    color: "silver"   // { "type": "string" }
  }];
chartAPI.draw(myData);
</pre>


    <h3>Pie Chart Colors</h3>

    <p>Any color can be used in the color properties that is understood by SVG. It can either be passed in the data
      items or can be pre-set in the color list of the chart that is used when no specific color is given.</p>
    <p>When there are more data items than colors given the colors array will be used from the start again.</p>
    <pre class="code">
myColors = ["blue", "red", "orange", "green", "purple"];
chartAPI.setColors(myColors);
</pre>

  </div>

  <script>
    var chartObj = document.getElementById('pieChart');
    var chartAPI;

    function pieClear() { chartAPI.clear(); }

    function pieDraw1() {
      chartAPI.setOptions({
        showTitle: false,
        showValue: false,
        showPercentage: false
      });

      chartAPI.draw([
        {
          title: 'used', 
          value: 800000,
          color: 'rgb(0,0,128)'
        }, {
          title: 'reserved',
          value: 200000,
          color: 'hsl(180,50%,50%)'
        }, {
          title: 'available',
          value: 1200000,
          color: 'silver'
        }
      ]);
    }

    function pieDraw2() {
      chartAPI.setOptions({
        showTitle: false,
        showValue: true,
        showPercentage: true
      });

      chartAPI.draw([
        {
          color: 'blue',
          title: "Used",
          value: 60
        }, {
          color: 'green',
          title: "reserved",
          value: 30
        }, {
          color: 'yellow',
          title: "Available",
          value: 12
        }, {
          color: 'red',
          title: "alert",
          value: 4
        }
      ]);
    }

    function pieDraw3() {
      chartAPI.setOptions({
        showTitle: false,
        showValue: false,
        showPercentage: true
      });

      chartAPI.setColors(["blue", "red", "orange", "green"]);

      chartAPI.draw([
        {
          title: "Text",
          value: 8
        }, {
          title: "Images",
          value: 16
        }, {
          title: "Documents",
          value: 12
        }, {
          title: "Binaries",
          value: 4
        }, {
          title: "Audio",
          value: 4
        }, {
          title: "Movies",
          value: 3
        }
      ]);
    }

    function pieDraw4() {
      chartAPI.setOptions({
        showTitle: true,
        showValue: false,
        showPercentage: true
      });

      chartAPI.setColors("black");

      chartAPI.draw([
        {
          title: "dogs",
          value: 8
        }, {
          title: "cats",
          value: 16
        }, {
          title: "birds",
          value: 2
        }
      ]);
    }

    window.addEventListener('load', function () {
      chartAPI = chartObj.getSVGDocument().api;
      pieDraw1();

      document.getElementById('doClear').addEventListener('click', pieClear);
      document.getElementById('doDraw1').addEventListener('click', pieDraw1);
      document.getElementById('doDraw2').addEventListener('click', pieDraw2);
      document.getElementById('doDraw3').addEventListener('click', pieDraw3);
      document.getElementById('doDraw4').addEventListener('click', pieDraw4);

    });
  </script>
</body>

</html>