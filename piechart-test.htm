<!doctype html>
<html lang="en">

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Test pie Chart</title>

  <link Content-Type="text/css" href="/iotstyle.css" rel="stylesheet" />
</head>

<body>
  <h2>Pie Chart</h2>
  <p> <button id="doClear">clear</button> <button id="doDraw1">draw1</button> <button id="doDraw2">draw2</button> </p>
  <object id="pieChart" data="pieChart.svg" type="image/svg+xml" style="float:left;width:300px;height:300px;"></object>

  <script>
    var chartObj = document.getElementById('pieChart');
    var chartAPI;

    function pieClear() { chartAPI.clear(); }

    function pieDraw1() {
      chartAPI.setOptions({
        showValue: false,
        showPercentage: false
      });

      chartAPI.draw([
        {
          color: 'darkblue',
          title: "Used",
          value: 800000
        }, {
          color: 'yellow',
          title: "reserved",
          value: 200000
        }, {
          color: 'silver',
          title: "Available",
          value: 1200000
        }
      ]);
    }

    function pieDraw2() {
      chartAPI.setOptions({
        showValue: true,
        showPercentage: true
      });

      chartAPI.draw([
        {
          color: 'blue',
          title: "Used",
          value: 60
        }, {
          color: 'green',
          title: "reserved",
          value: 30
        }, {
          color: 'yellow',
          title: "Available",
          value: 12
        }, {
          color: 'red',
          title: "alert",
          value: 4
        }
      ]);
    }

    window.addEventListener('load', function () {
      chartAPI = chartObj.getSVGDocument().api;
      pieDraw1();

      document.getElementById('doClear').addEventListener('click', pieClear);
      document.getElementById('doDraw1').addEventListener('click', pieDraw1);
      document.getElementById('doDraw2').addEventListener('click', pieDraw2);

    });
  </script>
</body>

</html>