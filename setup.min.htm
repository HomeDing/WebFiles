<!DOCTYPE html><html lang='en'><head><title>HomeDing Setup</title></head><body><h1>HomeDing Setup</h1><h2>Connect to network</h2><table><tr><td>Network:</td><td><select id='conNetworks'style='width:18em'></select></td></tr><tr><td>Passphrase:</td><td><input id='conPass'style='width:18em'></td></tr></table><button id='connectPass'>Connect</button><script>var scanDone=2,checkTimer=0,selObj=document.getElementById("conNetworks");function load(e,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.addEventListener("readystatechange",function(e){4==t.readyState&&200<=t.status&&t.status<300&&n(t.responseText)}),t.send()}function startScan(){2==scanDone&&(selObj.innerHTML="<option selected disabled>scanning...</option>",scanDone=0,checkTimer||(checkTimer=window.setInterval(checkScan,200)))}function checkScan(){load("/$scan",function(e){0<e.length&&(scanDone=2,scanResult(JSON.parse(e)))})}function scanResult(e){window.clearInterval(checkTimer),checkTimer=0,selObj.innerHTML="";var n=document.createElement("option");n.value=0,n.text="select...",n.disabled=!0,selObj.options.add(n),e.forEach(function(e){var n=document.createElement("option");n.value=n.text=e.id,selObj.options.add(n)})}document.getElementById("connectPass").addEventListener("click",function(){load("/$connect?n="+selObj.value+"&p="+document.getElementById("conPass").value,function(){})}),startScan()</script></body></html>